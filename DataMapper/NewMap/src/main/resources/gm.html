
<!DOCTYPE html >
<html>
<head>

    <meta charset='UTF-8'/>
    <meta http-equiv='X-UA-Compatible' content='IE=edge' />
    <meta name='robots' content='index'/>
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />

    <title>Polygon area | Mapbox</title>

    <meta name='st:title' content='Show drawn polygon area' />
    <meta name='st:type' content='mapboxjs' />
    <meta name='st:info' content='latest' />



    <link href='https://mapbox.com/base/latest/base.css?v1.0' rel='stylesheet' />
    <link href='https://www.mapbox.com/css/site.css' rel='stylesheet' />
    <!--[if IE 9]><link href='https://www.mapbox.com/css/site-ie9.css' rel='stylesheet' /><![endif]-->
    <link rel='shortcut icon' href='https://www.mapbox.com/img/favicon.ico' type='image/x-icon' />
    <link rel='alternate' type='application/rss+xml' title='RSS' href='https://www.mapbox.com/blog/blog.rss' />
    <link href='https://api.tiles.mapbox.com/mapbox.js/v2.1.4/mapbox.css' rel='stylesheet' />

    <!--[if lt IE 9 ]><script src='https://www.mapbox.com/js/redirect-ie.js'></script><![endif]-->
    <script src='https://js.stripe.com/v2/'></script>
    <script>
          var KM_COOKIE_DOMAIN = 'www.mapbox.com';
          var analytics=analytics||[];(function(){var e=['identify','track','trackLink','trackForm','trackClick','trackSubmit','page','pageview','ab','alias','ready','group'],t=function(e){return function(){analytics.push([e].concat(Array.prototype.slice.call(arguments,0)))}};for(var n=0;n<e.length;n++)analytics[e[n]]=t(e[n])})(),analytics.load=function(e){var t=document.createElement('script');t.type='text/javascript',t.async=!0,t.src=('https:'===document.location.protocol?'https://':"http://")+'d2dq2ahtl5zl1z.cloudfront.net/analytics.js/v1/'+e+'/analytics.min.js';var n=document.getElementsByTagName('script')[0];n.parentNode.insertBefore(t,n)};
          analytics.load(window.location.hostname.indexOf('mapbox.com') !== -1 ? 'fl0c8p240n' : '0biiejpgfj');

          Stripe.setPublishableKey(window.location.hostname.indexOf('mapbox.com') !== -1 ?
            'pk_live_hI6mmOTIg7KkywK6vo3vJvpk' : 'pk_test_gmIyREg3sKzAiyMkAEeCsxUG');
    </script>
    <script src='https://api.tiles.mapbox.com/mapbox.js/v2.1.4/mapbox.js'></script>


    <script>
          window.mapbox_api = 'https://www.mapbox.com/core';
          window.mapbox_tileApi = 'https://api.tiles.mapbox.com';
          window.mapbox_accessToken = '' || 'pk.eyJ1IjoibWFwYm94IiwiYSI6IlhHVkZmaW8ifQ.hAMX5hSW-QnTeRCMAy9A8Q'
          if (L.mapbox.VERSION[0] === '2') {
              L.mapbox.accessToken = window.mapbox_accessToken;
              L.mapbox.config.FORCE_HTTPS = true;
              L.mapbox.config.HTTPS_URL = window.mapbox_tileApi + '/v4';
          }
    </script>
    <script src='https://mapbox.com/base.js/dist/base.js'></script>

    <style>
        body { margin:0; padding:0; }
        #map { position:absolute; top:0; bottom:0; width:100%; }
    </style>
</head>
<body class='fill-light full'>

<div class='page-content'>



    <div class=''>

        <link href='/mapbox.js/assets/css/site.css' rel='stylesheet' />
        <link href='https://www.mapbox.com/css/docs.css' rel='stylesheet' />
        <script src='/mapbox.js/assets/js/prettify.js'></script>
        <script src='/mapbox.js/assets/js/site.js'></script>



        <div class='limiter clearfix'>

            <div >
                <style>.fill-white pre { background-color:transparent; }</style>
                <div class='col19 round keyline-all clearfix contain fill-white'>
                    <div class='clearfix'>
                        <div class='pad2 keyline-bottom' data-swiftype-index=true>
                            <h3>Show drawn polygon area</h3>
                        </div>
                        <div class='contain row19 fill-light'>
                            <iframe id='demo' class='row16 col12' allowfullscreen='true' mozallowfullscreen='true' webkitallowfullscreen='true'></iframe>
                            <script>
                                    var doc = $('#demo')[0].contentWindow.document;

                                    var jsURL = 'https://api.tiles.mapbox.com/mapbox.js/v2.1.4/mapbox.js',
                                        cssURL = 'https://api.tiles.mapbox.com/mapbox.js/v2.1.4/mapbox.css';

                                    var exampleCSS = 'body { margin:0; padding:0; }\n#map { position:absolute; top:0; bottom:0; width:100%; }';
                                    var exampleCONTENT = "<link href='https://api.tiles.mapbox.com/mapbox.js/plugins/leaflet-draw/v0.2.2/leaflet.draw.css' rel='stylesheet' />\n<script src='https://api.tiles.mapbox.com/mapbox.js/plugins/leaflet-draw/v0.2.2/leaflet.draw.js'><\/script>\n<script src='https://api.tiles.mapbox.com/mapbox.js/plugins/leaflet-geodesy/v0.1.0/leaflet-geodesy.js'><\/script>\n\n<div id='map'><\/div>\n\n<script>\nvar map = L.mapbox.map('map', 'examples.map-i86nkdio')\n    .setView([38.89399, -77.03659], 17);\n\nvar featureGroup = L.featureGroup().addTo(map);\n\nvar drawControl = new L.Control.Draw({\n  edit: {\n    featureGroup: featureGroup\n  },\n  draw: {\n    polygon: true,\n    polyline: false,\n    rectangle: false,\n    circle: false,\n    marker: false\n  }\n}).addTo(map);\n\nmap.on('draw:created', showPolygonArea);\nmap.on('draw:edited', showPolygonAreaEdited);\n\nfunction showPolygonAreaEdited(e) {\n  e.layers.eachLayer(function(layer) {\n    showPolygonArea({ layer: layer });\n  });\n}\nfunction showPolygonArea(e) {\n  featureGroup.clearLayers();\n  featureGroup.addLayer(e.layer);\n  e.layer.bindPopup((LGeo.area(e.layer) / 1000000).toFixed(2) + ' km<sup>2<\/sup>');\n  e.layer.openPopup();\n}\n<\/script>\n";

                                    // Don't combine the writes below, it breaks in IE9.
                                    doc.open();
                                    doc.write("<html><head><meta charset=utf-8 /><title>Show drawn polygon area</title>");
                                    doc.write("<meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />");
                                    doc.write("<script src='" + jsURL + "'><\/script>");
                                    doc.write("<link href='" + cssURL + "' rel='stylesheet' />");
                                    doc.write("<style>" + exampleCSS + "</style>");
                                    doc.write("<script>" +
                                                  "L.mapbox.accessToken = '" + App.accessToken + "';" +
                                                  "L.mapbox.config.FORCE_HTTPS = true;" +
                                                  "L.mapbox.config.HTTPS_URL = 'https://api.tiles.mapbox.com/v4';" +
                                              "<\/script>");
                                    doc.write("</head><body>");
                                    doc.write(exampleCONTENT);
                                    doc.write("</body></html>");
                                    doc.close();

                                    // this function needs to execute after the rest of the page
                                    // has been built.
                                    App.onUserLoad(function() {
                                        if (App.user) {
                                            function addField(name, value) {
                                                $('<input />').attr({
                                                    type: 'hidden',
                                                    name: name,
                                                    value: value
                                                }).appendTo($('#fiddle-form'));
                                            }

                                            var scriptRegex = /<script>((.|\n)*)<\/script>/,
                                                html = exampleCONTENT.replace(scriptRegex, ''),
                                                match = exampleCONTENT.match(scriptRegex),
                                                js = 'L.mapbox.accessToken = \'' + App.user.accessToken + '\';' + match[1];

                                            addField('html', html);
                                            addField('js', js);
                                            addField('css', exampleCSS);
                                            addField('resources', jsURL + ',' + cssURL);
                                            addField('wrap', 'b');
                                            addField('title', 'Show drawn polygon area');
                                        } else {
                                            $('#fiddle-form').remove();
                                        }
                                    });
                                </script>
                        </div>



                    </div>
                </div>

                <script>
                          App.onUserLoad(function() {
                              var loggedOut = document.getElementById('logged-out-help');
                              var loggedIn = document.getElementById('logged-in-help');
                              if (App.user) {
                                  loggedOut.parentNode.removeChild(loggedOut);
                              } else {
                                  loggedIn.parentNode.removeChild(loggedIn);
                              }
                          });
                    </script>
            </div>

        </div>
    </div>
</div>


<script>
            L.mapbox.accessToken = '<your access token here>';
            var map = L.mapbox.map('map', 'examples.map-i86nkdio')
                .setView([38.89399, -77.03659], 18);

            var featureGroup = L.featureGroup().addTo(map);

            var drawControl = new L.Control.Draw({
              edit: {
                featureGroup: featureGroup
              },
              draw: {
                polygon: true,
                polyline: false,
                rectangle: false,
                circle: false,
                marker: false
              }
            }).addTo(map);

            map.on('draw:created', showPolygonArea);
            map.on('draw:edited', showPolygonAreaEdited);

            function showPolygonAreaEdited(e)
             {
                  e.layers.eachLayer(function(layer) {
                    showPolygonArea({ layer: layer });
                  });
             }
            function showPolygonArea(e)
             {
                  featureGroup.clearLayers();
                  featureGroup.addLayer(e.layer);
                  e.layer.bindPopup((LGeo.area(e.layer) / 1000000).toFixed(2) + ' km<sup>2</sup>');
                  e.layer.openPopup();
             }
     </script>
<script>
L.mapbox.accessToken = 'pk.eyJ1IjoiYXNsYXRlciIsImEiOiItYTNLNkkwIn0.uf1rwYpeylp32z8EVOjXpg';
var tilejson = {
  "tiles": [ "https://api.tiles.mapbox.com/v4/examples.map-i86l3621/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoidHJpc3RlbiIsImEiOiJuZ2E5MG5BIn0.39lpfFC5Nxyqck1qbTNquQ" ],
  "minzoom": 0,
  "maxzoom": 20
}
L.mapbox.map('map', tilejson, {
    scrollWheelZoom: false
}).setView([43.6519,-79.3852], 18);
</script>
</body>
</html>
